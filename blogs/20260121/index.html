<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ゲーム制作で便利なコマンド | Blog | My Portfolio</title>
  <link rel="stylesheet" href="/css/main.css">
</head>

<body>
  <header>
    <div style="font-size:1.3rem;font-weight:bold;">trkn Portfolio</div>
    <nav>
      <a href="/index.html">Profile</a>
      <a href="/blog.html">Blog</a>
      <a href="/works.html">Works</a>
    </nav>
    <button id="toggle-mode" class="toggle-mode" aria-label="ダーク/ライトモード切替"></button>
  </header>
  <main>
    <article class="blog-article">
      <h1>ゲーム制作で便利なコマンド</h1>
      <div class="blog-meta">
        <time datetime="2026-01-21">2026年1月21日</time>
        <br>
        <span class="blog-tags">
          <span class="work-tag">#Minecraft</span>
          <span class="work-tag">#コマンド</span>
          <span class="work-tag">#ゲーム制作</span>
        </span>
      </div>
      <section class="blog-body">
        <p>ゲーム制作で便利なコマンドについて紹介します。</p>
        <h2>人数をカウントしてスコアボードに入れる</h2>
        <p>▼<span class="text-purple">リピート</span>：遅延0 <span class="text-gray">該当するプレイヤーがいなくなったら0が代入される</span></p>
        <pre><code>scoreboard players set red Counter 0</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">該当するプレイヤー一人一人が1を足すことでカウントできる</span></p>
        <pre><code>execute as @a[tag=red] at @s run scoreboard players add red Counter 1</code></pre>
        <p>これで、赤チームに所属しているプレイヤーの人数を「Counter」というスコアボードに「red」という名前で入れることができます。</p>
        <h2>ゲーム中に途中退出したプレイヤーをリセット処理する</h2>
        <p>▼<span class="text-purple">リピート</span>：遅延0 <span class="text-gray">全員0を設定し、ワールド参加時にリセットされるようにする</span></p>
        <pre><code>scoreboard players add @a Reset 0</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">任意のリセット処理でOK</span></p>
        <pre><code>clear @a[scores={Reset=0}]</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">任意のリセット処理でOK</span></p>
        <pre><code>clearspawnpoint @a[scores={Reset=0}]</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">任意のリセット処理でOK</span></p>
        <pre><code>tag @a[scores={Reset=0}] remove red</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">任意のリセット処理でOK</span></p>
        <pre><code>tag @a[scores={Reset=0}] remove blue</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">リセット処理が完了したプレイヤーに1を足しておく</span></p>
        <pre><code>scoreboard players add @a[scores={Reset=0}] Reset 1</code></pre>
        <p>これでゲーム進行中に途中退出したプレイヤーにリセット処理を施すことができます。</p>
        <p>ワールド参加時は必ずロビーでスポーンするといったことがこのコマンドで実装できます。</p>
        <p>任意のタイミングでリセット処理を行いたい場合は、以下のようにします。</p>
        <p>▼<span class="text-orange">インパルス</span>：遅延0 <span class="text-gray">全プレイヤーに0を設定し、リセット処理を誘発</span></p>
        <pre><code>scoreboard players reset * Reset</code></pre>
        <h2>タイマー（tick単位）</h2>
        <p>30分をカウントするタイマーを紹介します。</p>
        <p>1秒=20tick</p>
        <p>1分=1200tick</p>
        <p>30分=36000tick</p>
        <p>なので以下でカウントするtick数、36000を設定します。</p>
        <p>▼<span class="text-orange">インパルス</span>：遅延0 <span class="text-gray">カウントするtick数を設定</span></p>
        <pre><code>scoreboard players add time Timer 36000</code></pre>
        <p>▼<span class="text-orange">インパルス</span>：遅延0 <span class="text-gray">分の計算用の数値を設定</span></p>
        <pre><code>scoreboard players add dmin Timer 1200</code></pre>
        <p>▼<span class="text-orange">インパルス</span>：遅延0 <span class="text-gray">秒の計算用の数値を設定</span></p>
        <pre><code>scoreboard players add dsec Timer 60</code></pre>
        <p>▼<span class="text-orange">インパルス</span>：遅延0 <span class="text-gray">tickから秒の計算用の数値を設定</span></p>
        <pre><code>scoreboard players add dtick Timer 20</code></pre>
        <p>必要な数値を設定したら、次にタイマーを動かすための繰り返し実行するコマンドを設定します。</p>
        <p>▼<span class="text-purple">リピート</span>：遅延0 <span class="text-gray"></span></p>
        <pre><code>scoreboard players operation min Timer = time Timer</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray"></span></p>
        <pre><code>scoreboard players operation sec Timer = time Timer</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">36000÷1200=30分</span></p>
        <pre><code>scoreboard players operation min Timer /= dmin Timer</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">36000÷20=1800秒</span></p>
        <pre><code>scoreboard players operation sec Timer /= dtick Timer</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">1799÷60=29...59秒(0~59)</span></p>
        <pre><code>scoreboard players operation sec Timer %= dsec Timer</code></pre>
        <p>▼<span class="text-cyan">チェーン</span>：遅延0 <span class="text-gray">titlerawで制限時間を表示</span></p>
        <pre><code>titleraw @a actionbar {"rawtext":[{"text":"制限時間【"},{"score":{"name":"min","objective":"Timer"}},{"text":"分"},{"score":{"name":"sec","objective":"Timer"}},{"text":"秒】"}]}</code></pre>
        <p>タイマー機能はこれで完成。最後にtimeを遅延0で引いていけば動きます。</p>
        <p>▼<span class="text-purple">リピート</span>：遅延0 <span class="text-gray"></span></p>
        <pre><code>scoreboard players remove time Timer 1</code></pre>
        <p>以下に実用例を紹介します。</p>
        <p>▼<span class="text-purple">リピート</span>：遅延0 <span class="text-gray">tick単位で判定しているのでリピートで実行しても1回だけ実行される</span></p>
        <pre><code>execute if score time Timer matches 0 run say 制限時間が終了しました</code></pre>
      </section>
    </article>
  </main>
  <button id="scrollTopBtn" title="ページの先頭へ" aria-label="ページの先頭へ">↑</button>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script src="/js/main.js"></script>
  <footer>
    &copy; 2026 trkn Portfolio. All rights reserved.
  </footer>
</body>

</html>